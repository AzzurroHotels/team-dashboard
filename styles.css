*{box-sizing:border-box;font-family:Arial,sans-serif;}
  html,body{margin:0;padding:0;height:100%;}

  /* =========================
     THEME TOKENS (LIGHT)
  ========================= */
  :root{
    --bg:#f4f5f7;
    --text:#172B4D;
    --muted:#5e6c84;

    --header:#0747A6;
    --panel:#ebecf0;
    --card:#ffffff;
    --border:#dfe1e6;

    --shadow:0 1px 3px rgba(0,0,0,0.18);

    --btnGreen:#36B37E;
    --btnGreenHover:#2ea36a;

    --btnBlue:#0052cc;
    --btnBlueHover:#0747A6;

    --btnRed:#DE350B;
    --btnRedHover:#b92a07;

    --prioLowBorder:#36B37E;
    --prioLowBg:#D6E4FF;

    --prioMidBorder:#FFAB00;
    --prioMidBg:#FFE7C2;

    --prioHighBorder:#DE350B;
    --prioHighBg:#FFD6D6;

    --scrollThumb:#c1c7d0;
  }

  /* =========================
     THEME TOKENS (DARK)
  ========================= */
  body.dark{
    --bg:#0b1220;
    --text:#e5e7eb;
    --muted:#9aa4b2;

    --header:#0b3b8c;
    --panel:#0f1a2b;
    --card:#101c30;
    --border:#243349;

    --shadow:0 10px 30px rgba(0,0,0,0.45);

    --btnGreen:#10b981;
    --btnGreenHover:#0ea371;

    --btnBlue:#3b82f6;
    --btnBlueHover:#2563eb;

    --btnRed:#fb7185;
    --btnRedHover:#f43f5e;

    --prioLowBorder:#34d399;
    --prioLowBg:rgba(16,185,129,0.10);

    --prioMidBorder:#fbbf24;
    --prioMidBg:rgba(251,191,36,0.12);

    --prioHighBorder:#fb7185;
    --prioHighBg:rgba(251,113,133,0.12);

    --scrollThumb:#334155;
  }

  body{background:var(--bg);color:var(--text);}

  /* Maximize 1920 but not edge-to-edge */
  .page{max-width:1840px;margin:0 auto;padding:0 40px;}

  header{
    background:var(--header);
    color:#fff;
    padding:15px 25px;
    font-size:24px;
    font-weight:bold;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    border-radius:10px;
    margin-top:16px;
    box-shadow:var(--shadow);
  }

  .header-actions{display:flex;align-items:center;gap:14px;}

  header input{
    padding:7px 12px;border-radius:8px;
    border:1px solid rgba(255,255,255,0.25);
    width:260px;margin-right:10px;outline:none;
  }
  header input:focus{border-color:rgba(255,255,255,0.55);}

  header button{
    padding:7px 12px;border-radius:8px;border:none;
    background:var(--btnGreen);color:#fff;cursor:pointer;font-weight:bold;
    transition:transform .05s ease, background .15s ease, opacity .15s ease;
  }
  header button:hover{background:var(--btnGreenHover);}
  header button:active{transform:translateY(1px);}

  /* ===== Light/Dark Toggle ===== */
  .theme-toggle{
    display:flex;align-items:center;gap:10px;
    font-size:12px;font-weight:bold;user-select:none;color:#fff;white-space:nowrap;
  }
  .switch{position:relative;width:52px;height:28px;display:inline-block;}
  .switch input{opacity:0;width:0;height:0;}
  .slider{
    position:absolute;inset:0;
    background:rgba(255,255,255,0.30);
    border:1px solid rgba(255,255,255,0.30);
    border-radius:999px;cursor:pointer;transition:all .2s ease;
  }
  .slider:before{
    content:"";position:absolute;height:22px;width:22px;left:3px;top:50%;
    transform:translateY(-50%);background:#fff;border-radius:50%;
    transition:all .2s ease;box-shadow:0 6px 16px rgba(0,0,0,.35);
  }
  .switch input:checked + .slider{background:rgba(255,255,255,0.55);}
  .switch input:checked + .slider:before{transform:translate(24px,-50%);}

  /* Buttons row: + Add Task under Export CSV */
  #exportButtons{
    padding:16px 0 0;display:flex;align-items:flex-start;gap:14px;flex-wrap:wrap;
  }
  .btn-col{display:flex;flex-direction:column;gap:10px;}
  #exportButtons button{
    padding:10px 16px;border-radius:10px;border:none;
    background:var(--btnGreen);color:#fff;cursor:pointer;font-weight:bold;
    box-shadow:var(--shadow);
    transition:transform .05s ease, background .15s ease, opacity .15s ease;
  }
  #exportButtons button:hover{background:var(--btnGreenHover);}
  #exportButtons button:active{transform:translateY(1px);}

  /* Add Task button BLUE */
  #globalAddTask{background:var(--btnBlue) !important;color:#fff !important;}
  #globalAddTask:hover{background:var(--btnBlueHover) !important;}

  /* Board spans full width like header */
  .board{display:flex;gap:14px;padding:18px 0 22px;width:100%;flex-wrap:nowrap;}

  /* Columns stretch evenly */
  .column{
    background:var(--panel);
    border-radius:14px;
    flex:1;min-width:0;
    display:flex;flex-direction:column;
    max-height:680px;
    box-shadow:var(--shadow);
    border:1px solid var(--border);
  }

  .column h3{
    text-align:center;margin:14px 10px 10px;
    font-size:14px;font-weight:800;color:var(--text);letter-spacing:.2px;
  }
  .column h3 .title{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;}
  .tasks-container{flex:1;overflow-y:auto;padding:0 12px 12px;}

  /* Task card shows ONLY title + deadline */
  .task{
    background:var(--card);
    border-radius:14px;
    padding:12px 12px;
    margin-bottom:12px;
    cursor:pointer;
    box-shadow:var(--shadow);
    position:relative;
    transition:transform .08s ease, box-shadow .15s ease;
    color:var(--text);
    border:1px solid var(--border);
  }
  .task:hover{transform:translateY(-1px);}
  .task:active{transform:translateY(0px);}

  .priority-high{border-left:6px solid var(--prioHighBorder);background:var(--prioHighBg);}
  .priority-medium{border-left:6px solid var(--prioMidBorder);background:var(--prioMidBg);}
  .priority-low{border-left:6px solid var(--prioLowBorder);background:var(--prioLowBg);}

  .due-today::before,.due-tomorrow::before{content:"‚ùó";position:absolute;top:10px;right:12px;}

  .task-top{display:flex;justify-content:space-between;align-items:flex-start;gap:10px;}
  .task-title{
    font-weight:800;line-height:1.2;overflow:hidden;
    display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;
    font-size:14px;
  }
  .task-due{font-size:12px;opacity:.92;white-space:nowrap;color:var(--muted);}
  .task-due.missing{opacity:.70;}

  .task-actions{display:flex;gap:8px;margin-top:10px;}
  button{border:none;padding:7px 10px;border-radius:10px;cursor:pointer;font-size:12px;font-weight:800;}

  .archive-btn{background:var(--btnBlue);color:#fff;}
  .archive-btn:hover{background:var(--btnBlueHover);}

  .delete-btn{background:var(--btnRed);color:#fff;}
  .delete-btn:hover{background:var(--btnRedHover);color:#fff;}

  .archive-wrapper{padding:8px 0 30px;}
  .archive-wrapper h2{margin:0;padding:10px 0 8px;color:var(--text);}
  #archiveList{max-height:320px;overflow-y:auto;background:transparent;}

  /* Modal */
  .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);align-items:center;justify-content:center;padding:16px;}
  .modal-content{
    background:var(--card);color:var(--text);
    padding:20px;width:540px;max-width:95vw;
    border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,0.55);
    border:1px solid var(--border);
  }
  .modal-content h3{margin:0 0 12px;font-weight:900;}
  .modal-content label{display:block;font-size:12px;font-weight:900;margin:10px 0 6px;color:var(--muted);}
  .modal-content input,.modal-content textarea,.modal-content select{
    width:100%;padding:11px 12px;
    border:1px solid var(--border);border-radius:12px;
    font-size:13px;background:transparent;color:var(--text);outline:none;
  }
  .modal-content input:focus,.modal-content textarea:focus,.modal-content select:focus{
    border-color:rgba(59,130,246,0.7);
    box-shadow:0 0 0 3px rgba(59,130,246,0.18);
  }
  .modal-content textarea{min-height:90px;resize:vertical;}

  .modal-actions{display:flex;gap:10px;justify-content:flex-start;margin-top:14px;}
  .btn-save{background:var(--btnGreen);color:#fff;}
  .btn-save:hover{background:var(--btnGreenHover);}
  .btn-cancel{background:#64748b;color:#fff;}
  .btn-cancel:hover{background:#475569;}

  .tasks-container::-webkit-scrollbar, #archiveList::-webkit-scrollbar { width:10px; }
  .tasks-container::-webkit-scrollbar-thumb, #archiveList::-webkit-scrollbar-thumb { background:var(--scrollThumb); border-radius:10px; }
